{"version":3,"sources":["js/ajaxchimp.js"],"names":["$","ajaxChimp","responses","translations","en","init","selector","options","fn","each","i","elem","form","email","find","label","attr","settings","extend","url","language","replace","concat","submit","msg","data","dataArray","serializeArray","index","item","name","value","ajax","success","successCallback","resp","result","removeClass","addClass","parts","split","undefined","parseInt","toString","e","html","show","callback","dataType","error","text","console","log","submitMsg","jQuery"],"mappings":";CAAA,SAAUA,GAAG,aAAaA,EAAEC,UAAU,CAACC,UAAU,CAAyC,wCAAA,EAAyB,uBAAA,EAA6C,2CAAA,EAAmF,iFAAA,EAAsF,oFAAA,EAAgF,8EAAA,GAAGC,aAAa,CAACC,GAAG,MAAMC,KAAK,SAASC,EAASC,GAASP,EAAEM,GAAUL,UAAUM,KAAWP,EAAEQ,GAAGP,UAAU,SAASM,GAAizD,OAAxyDP,EAAE,MAAMS,KAAK,SAASC,EAAEC,GAAUC,IAAAA,EAAKZ,EAAEW,GAAUE,EAAMD,EAAKE,KAAK,qBAAyBC,EAAMH,EAAKE,KAAK,aAAaD,EAAMG,KAAK,MAAM,KAASC,EAASjB,EAAEkB,OAAO,CAACC,IAAIP,EAAKI,KAAK,UAAUI,SAAS,MAAMb,GAAaY,EAAIF,EAASE,IAAIE,QAAQ,SAAS,eAAeC,OAAO,QAAQV,EAAKI,KAAK,aAAa,QAAQH,EAAMG,KAAK,OAAO,SAASJ,EAAKW,OAAO,WAAeC,IAAAA,EAAu4BC,IAAAA,EAAK,GAAOC,EAAUd,EAAKe,iBAAiB3B,EAAES,KAAKiB,EAAU,SAASE,EAAMC,GAAMJ,EAAKI,EAAKC,MAAMD,EAAKE,QAAQ/B,EAAEgC,KAAK,CAACb,IAAIA,EAAIM,KAAKA,EAAKQ,QAAngCC,SAAgBC,GAASA,GAAc,YAAdA,EAAKC,OAAoBZ,EAAI,wCAAwCT,EAAMsB,YAAY,SAASC,SAAS,SAASzB,EAAMwB,YAAY,SAASC,SAAS,aAAa,CAACzB,EAAMwB,YAAY,SAASC,SAAS,SAASvB,EAAMsB,YAAY,SAASC,SAAS,SAAyB,IAAKC,IAAAA,EAAMJ,EAAKX,IAAIgB,MAAM,MAAM,QAAiBC,IAAXF,EAAM,GAAgBf,EAAIW,EAAKX,IAAekB,SAASH,EAAM,GAAG,IAASI,aAAaJ,EAAM,IAAUA,EAAM,GAAGf,EAAIe,EAAM,IAAiBf,EAAIW,EAAKX,IAAM,MAAMoB,GAAYpB,EAAIW,EAAKX,KAA4B,OAApBP,EAASG,eAA8CqB,IAA7BzC,EAAEC,UAAUC,UAAUsB,IAAkBxB,EAAEC,UAAUE,cAAcH,EAAEC,UAAUE,aAAac,EAASG,WAAWpB,EAAEC,UAAUE,aAAac,EAASG,UAAUpB,EAAEC,UAAUC,UAAUsB,MAAOA,EAAIxB,EAAEC,UAAUE,aAAac,EAASG,UAAUpB,EAAEC,UAAUC,UAAUsB,KAAMT,EAAM8B,KAAKrB,GAAKT,EAAM+B,KAAK,KAAQ7B,EAAS8B,UAAU9B,EAAS8B,SAASZ,IAA4Ka,SAAS,QAAQC,MAAM,SAASd,EAAKe,GAAMC,QAAQC,IAAI,gCAAgCF,MAAaG,IAAAA,EAAU,gBAAkR,MAA3O,OAApBpC,EAASG,UAAiBpB,EAAEC,UAAUE,cAAcH,EAAEC,UAAUE,aAAac,EAASG,WAAWpB,EAAEC,UAAUE,aAAac,EAASG,UAAlC,SAAuDiC,EAAUrD,EAAEC,UAAUE,aAAac,EAASG,UAAlC,QAAsDL,EAAM8B,KAAKQ,GAAWP,KAAK,MAAY,MAAiB,MAA7zE,CAAq0EQ","file":"ajaxchimp.8ee60abd.js","sourceRoot":"..","sourcesContent":["(function($){\"use strict\";$.ajaxChimp={responses:{\"We have sent you a confirmation email\":0,\"Please enter a value\":1,\"An email address must contain a single @\":2,\"The domain portion of the email address is invalid (the portion after the @: )\":3,\"The username portion of the email address is invalid (the portion before the @: )\":4,\"This email address looks fake or invalid. Please enter a real email address\":5},translations:{en:null},init:function(selector,options){$(selector).ajaxChimp(options)}};$.fn.ajaxChimp=function(options){$(this).each(function(i,elem){var form=$(elem);var email=form.find(\"input[type=email]\");var label=form.find(\"label[for=\"+email.attr(\"id\")+\"]\");var settings=$.extend({url:form.attr(\"action\"),language:\"en\"},options);var url=settings.url.replace(\"/post?\",\"/post-json?\").concat(\"&c=?\");form.attr(\"novalidate\",\"true\");email.attr(\"name\",\"EMAIL\");form.submit(function(){var msg;function successCallback(resp){if(resp.result===\"success\"){msg=\"We have sent you a confirmation email\";label.removeClass(\"error\").addClass(\"valid\");email.removeClass(\"error\").addClass(\"valid\")}else{email.removeClass(\"valid\").addClass(\"error\");label.removeClass(\"valid\").addClass(\"error\");var index=-1;try{var parts=resp.msg.split(\" - \",2);if(parts[1]===undefined){msg=resp.msg}else{var i=parseInt(parts[0],10);if(i.toString()===parts[0]){index=parts[0];msg=parts[1]}else{index=-1;msg=resp.msg}}}catch(e){index=-1;msg=resp.msg}}if(settings.language!==\"en\"&&$.ajaxChimp.responses[msg]!==undefined&&$.ajaxChimp.translations&&$.ajaxChimp.translations[settings.language]&&$.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]){msg=$.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]}label.html(msg);label.show(2e3);if(settings.callback){settings.callback(resp)}}var data={};var dataArray=form.serializeArray();$.each(dataArray,function(index,item){data[item.name]=item.value});$.ajax({url:url,data:data,success:successCallback,dataType:\"jsonp\",error:function(resp,text){console.log(\"mailchimp ajax submit error: \"+text)}});var submitMsg=\"Submitting...\";if(settings.language!==\"en\"&&$.ajaxChimp.translations&&$.ajaxChimp.translations[settings.language]&&$.ajaxChimp.translations[settings.language][\"submit\"]){submitMsg=$.ajaxChimp.translations[settings.language][\"submit\"]}label.html(submitMsg).show(2e3);return false})});return this}})(jQuery);"]}